(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{497:function(e,s,r){"use strict";r.r(s);var t=r(2),a=Object(t.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"ubuntu系统下安装redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu系统下安装redis"}},[e._v("#")]),e._v(" Ubuntu系统下安装Redis")]),e._v(" "),s("h4",{attrs:{id:"_1-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装"}},[e._v("#")]),e._v(" 1.安装")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$sudo apt-get update\n$sudo apt-get install redis-server\n")])])]),s("h4",{attrs:{id:"_2-启动redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-启动redis"}},[e._v("#")]),e._v(" 2.启动redis")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ redis-server\n")])])]),s("h4",{attrs:{id:"_3-查看redis是否启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-查看redis是否启动"}},[e._v("#")]),e._v(" 3.查看redis是否启动")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ redis-cli\n")])])]),s("p",[e._v("以上命令将打开以下终端：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("127.0.0.1:6379> \n")])])]),s("p",[e._v("127.0.0.1是本机IP ，6379是redis默认服务端口，现在我们输入 PING 命令")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("127.0.0.1:6379> ping\nPONG\n")])])]),s("p",[e._v("以上说明我们已经成功安装了redis")]),e._v(" "),s("h4",{attrs:{id:"_4-基本操作语句"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-基本操作语句"}},[e._v("#")]),e._v(" 4.基本操作语句")]),e._v(" "),s("ul",[s("li",[s("h6",{attrs:{id:"查询redis运行状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查询redis运行状态"}},[e._v("#")]),e._v(" 查询redis运行状态")])])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ /etc/init.d/redis-server status\n")])])]),s("p",[e._v("运行后可以看到一下redis运行情况")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("● redis-server.service - Advanced key-value store\n   Loaded: loaded (/lib/systemd/system/redis-server.service; enabled; vendor preset: enabled)\n   Active: active (running) since Tue 2019-09-24 20:50:31 CST; 19h ago\n     Docs: http://redis.io/documentation,\n           man:redis-server(1)\n  Process: 6845 ExecStopPost=/bin/run-parts --verbose /etc/redis/redis-server.post-down.d (code=exited, status=0/SUCCESS)\n  Process: 6841 ExecStop=/bin/kill -s TERM $MAINPID (code=exited, status=0/SUCCESS)\n  Process: 6836 ExecStop=/bin/run-parts --verbose /etc/redis/redis-server.pre-down.d (code=exited, status=0/SUCCESS)\n  Process: 6861 ExecStartPost=/bin/run-parts --verbose /etc/redis/redis-server.post-up.d (code=exited, status=0/SUCCESS)\n  Process: 6857 ExecStart=/usr/bin/redis-server /etc/redis/redis.conf (code=exited, status=0/SUCCESS)\n  Process: 6852 ExecStartPre=/bin/run-parts --verbose /etc/redis/redis-server.pre-up.d (code=exited, status=0/SUCCESS)\n Main PID: 6860 (redis-server)\n   CGroup: /system.slice/redis-server.service\n           └─6860 /usr/bin/redis-server 0.0.0.0:6379\n\nSep 24 20:50:31 iZwz9hcv8qx067qki0x16qZ systemd[1]: redis-server.service: Service hold-off time over, scheduling restart.\nSep 24 20:50:31 iZwz9hcv8qx067qki0x16qZ systemd[1]: Stopped Advanced key-value store.\nSep 24 20:50:31 iZwz9hcv8qx067qki0x16qZ systemd[1]: Starting Advanced key-value store...\nSep 24 20:50:31 iZwz9hcv8qx067qki0x16qZ run-parts[6852]: run-parts: executing /etc/redis/redis-server.pre-up.d/00_example\nSep 24 20:50:31 iZwz9hcv8qx067qki0x16qZ run-parts[6861]: run-parts: executing /etc/redis/redis-server.post-up.d/00_example\nSep 24 20:50:31 iZwz9hcv8qx067qki0x16qZ systemd[1]: Started Advanced key-value store.\n")])])]),s("p",[e._v("其中Active 属性就是运行状态")]),e._v(" "),s("ul",[s("li",[s("h6",{attrs:{id:"重启redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重启redis"}},[e._v("#")]),e._v(" 重启redis")])])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ /etc/init.d/redis-server restart\n")])])]),s("p",[e._v("运行后显示")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("[ ok ] Restarting redis-server (via systemctl): redis-server.service.\n")])])]),s("ul",[s("li",[s("h6",{attrs:{id:"停止redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#停止redis"}},[e._v("#")]),e._v(" 停止redis")])])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ /etc/init.d/redis-server stop\n")])])]),s("p",[e._v("运行后显示")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("[ ok ] Stopping redis-server (via systemctl): redis-server.service.\n")])])]),s("p",[e._v("停止后可以使用redis-server status语句查看redis运行状态已经死亡")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("● redis-server.service - Advanced key-value store\n   Loaded: loaded (/lib/systemd/system/redis-server.service; enabled; vendor preset: enabled)\n   Active: inactive (dead) since Wed 2019-09-25 16:41:48 CST; 40s ago\n     Docs: http://redis.io/documentation,\n           man:redis-server(1)\n  Process: 7931 ExecStopPost=/bin/run-parts --verbose /etc/redis/redis-server.post-down.d (code=exited, status=0/SUCCESS)\n  Process: 7926 ExecStop=/bin/kill -s TERM $MAINPID (code=exited, status=0/SUCCESS)\n  Process: 7922 ExecStop=/bin/run-parts --verbose /etc/redis/redis-server.pre-down.d (code=exited, status=0/SUCCESS)\n  Process: 7806 ExecStartPost=/bin/run-parts --verbose /etc/redis/redis-server.post-up.d (code=exited, status=0/SUCCESS)\n  Process: 7802 ExecStart=/usr/bin/redis-server /etc/redis/redis.conf (code=exited, status=0/SUCCESS)\n  Process: 7796 ExecStartPre=/bin/run-parts --verbose /etc/redis/redis-server.pre-up.d (code=exited, status=0/SUCCESS)\n Main PID: 7805 (code=exited, status=0/SUCCESS)\n\nSep 25 16:38:28 iZwz9hcv8qx067qki0x16qZ systemd[1]: Starting Advanced key-value store...\nSep 25 16:38:28 iZwz9hcv8qx067qki0x16qZ run-parts[7796]: run-parts: executing /etc/redis/redis-server.pre-up.d/00_example\nSep 25 16:38:28 iZwz9hcv8qx067qki0x16qZ run-parts[7806]: run-parts: executing /etc/redis/redis-server.post-up.d/00_example\nSep 25 16:38:28 iZwz9hcv8qx067qki0x16qZ systemd[1]: Started Advanced key-value store.\nSep 25 16:39:27 iZwz9hcv8qx067qki0x16qZ systemd[1]: Started Advanced key-value store.\nSep 25 16:41:48 iZwz9hcv8qx067qki0x16qZ systemd[1]: Stopping Advanced key-value store...\nSep 25 16:41:48 iZwz9hcv8qx067qki0x16qZ run-parts[7922]: run-parts: executing /etc/redis/redis-server.pre-down.d/00_example\nSep 25 16:41:48 iZwz9hcv8qx067qki0x16qZ run-parts[7931]: run-parts: executing /etc/redis/redis-server.post-down.d/00_example\nSep 25 16:41:48 iZwz9hcv8qx067qki0x16qZ systemd[1]: Stopped Advanced key-value store.\n")])])]),s("ul",[s("li",[s("h6",{attrs:{id:"启动redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动redis"}},[e._v("#")]),e._v(" 启动redis")])])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ /etc/init.d/redis-server start\n")])])]),s("p",[e._v("运行后显示")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("[ ok ] Starting redis-server (via systemctl): redis-server.service.\n")])])]),s("h4",{attrs:{id:"_5-redis相关配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-redis相关配置"}},[e._v("#")]),e._v(" 5.redis相关配置")]),e._v(" "),s("ul",[s("li",[s("h6",{attrs:{id:"外部访问权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#外部访问权限"}},[e._v("#")]),e._v(" 外部访问权限")])])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ vi /etc/redis/redis.conf\n")])])]),s("p",[e._v("打开redis配置文件，找到bind 127.0.0.1将只允许本地访问改为bind 0.0.0.0无访问限制")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('...\n...\n# By default Redis listens for connections from all the network interfaces\n# available on the server. It is possible to listen to just one or multiple\n# interfaces using the "bind" configuration directive, followed by one or\n# more IP addresses.\n#\n# Examples:\n#\n# bind 192.168.1.100 10.0.0.1\nbind 127.0.0.1\n...\n...\n')])])]),s("p",[e._v("更改并保持后重启redis服务，可使用redis-server restart 语句重启服务")]),e._v(" "),s("hr"),e._v(" "),s("p",[s("strong",[e._v("注意要点")]),e._v("\n如果服务器是在阿里云或某某云上的话那还需要在设置实例安全组\n"),s("img",{attrs:{src:"https://note.youdao.com/favicon.ico",alt:"image"}})]),e._v(" "),s("hr"),e._v(" "),s("ul",[s("li",[s("h6",{attrs:{id:"redis设置连接密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis设置连接密码"}},[e._v("#")]),e._v(" redis设置连接密码")])])]),e._v(" "),s("p",[e._v("打开redis配置文件，找到文件中被注释的这一行#requirepass foobared，去掉(#)注释后foobared就是初始密码，可自行更改;")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("...\n...\n# Require clients to issue AUTH <PASSWORD> before processing any other\n# commands.  This might be useful in environments in which you do not trust\n# others with access to the host running redis-server.\n#\n# This should stay commented out for backward compatibility and because most\n# people do not need auth (e.g. they run their own servers).\n#\n# Warning: since Redis is pretty fast an outside user can try up to\n# 150k passwords per second against a good box. This means that you should\n# use a very strong password otherwise it will be very easy to break.\n#\n# requirepass foobared\n...\n...\n\n")])])]),s("p",[e._v("更改后保存退出后重启redis服务就行了")]),e._v(" "),s("h4",{attrs:{id:"_6-redis卸载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-redis卸载"}},[e._v("#")]),e._v(" 6.redis卸载")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ sudo apt-get purge --auto-remove redis-server\n")])])]),s("h4",{attrs:{id:"_7-使用wget安装包安装redis-通用版适用于各linux版本的安装方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-使用wget安装包安装redis-通用版适用于各linux版本的安装方式"}},[e._v("#")]),e._v(" 7.使用wget安装包安装redis(通用版适用于各linux版本的安装方式)")]),e._v(" "),s("p",[e._v("具体详情：https://www.cnblogs.com/marvinn/p/11081106.html")])])}),[],!1,null,null,null);s.default=a.exports}}]);