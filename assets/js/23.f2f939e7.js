(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{468:function(t,s,a){"use strict";a.r(s);var e=a(2),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"å¦‚ä½•åœ¨-github-actions-æ—¶ä½¿ç”¨-secretkey"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•åœ¨-github-actions-æ—¶ä½¿ç”¨-secretkey"}},[t._v("#")]),t._v(" å¦‚ä½•åœ¨ GitHub Actions æ—¶ä½¿ç”¨ secretKey")]),t._v(" "),s("h3",{attrs:{id:"é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜"}},[t._v("#")]),t._v(" é—®é¢˜")]),t._v(" "),s("p",[t._v("å½“æˆ‘å‚è€ƒ"),s("a",{attrs:{href:"https://www.lasy.site/views/%E5%89%8D%E7%AB%AF/%E4%BD%BF%E7%94%A8%20GitHub%20Actions%20%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™ç¯‡"),s("OutboundLink")],1),t._v("ï¼Œä½¿ç”¨ "),s("code",[t._v("Github Action")]),t._v(" è‡ªåŠ¨éƒ¨ç½²çš„æ—¶å€™å‘ç°è¦ä½¿ç”¨ Secret Key å»ä½¿ç”¨ "),s("code",[t._v("VSSUE")]),t._v(" è¯„è®ºåŠŸèƒ½ï¼Œæˆ‘å°±çŠ¯æ„äº†ã€‚")]),t._v(" "),s("p",[t._v("ç›´æ¥å†™åœ¨ "),s("code",[t._v("config")]),t._v(" é‡Œè™½è¯´å¹¶æ²¡æœ‰è°ä¼šç›—ç”¨ï¼ˆå§ ğŸ˜ƒï¼‰ï¼Œä½†æ˜¾ç„¶ä¸å¤ªå®‰å…¨ã€‚è¿™æ˜¯åŸ workflow æ–‡ä»¶ä¸­ä¸‹é¢è¿™æ®µå¯å‘äº†æˆ‘ã€‚å…¶ä»–çš„å˜é‡éš¾é“ä¹Ÿå¯ä»¥è¿™æ ·ä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Ÿ")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ACCESS_TOKEN")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.ACCESS_TOKEN "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"è§£å†³æ–¹æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ³•"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ³•")]),t._v(" "),s("p",[t._v("æœç„¶ "),s("code",[t._v("Github")]),t._v(" æ—©å°±å¸®æˆ‘ä»¬æƒ³å¥½äº†è§£å†³åŠæ³•ã€‚")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets",target:"_blank",rel:"noopener noreferrer"}},[t._v("Creating and storing encrypted secrets"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("ç®€å•è¯´å°±æ˜¯åœ¨å¯¹åº” repo çš„ "),s("code",[t._v("Secrets")]),t._v(" åŒºåŸŸé‡Œè¾“å…¥ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/470919/6d81c510-7f25-a039-5087-f07854d6d75e.png",alt:"Screenshot 2020-03-23 13.08.05.png"}})]),t._v(" "),s("p",[s("strong",[t._v("æ³¨æ„âš ï¸")]),t._v("ï¼šä¸Šå›¾ä¸­ç”»åœˆçš„ä½ç½®çš„ "),s("code",[t._v("A")]),t._v(", æ­£ç¡®çš„è‹±è¯­è¯­æ³•æ˜¯ "),s("code",[t._v("AN")]),t._v(", ä¸è¿‡è¿™ç¯‡æ•™ç¨‹ç»Ÿä¸€ç”¨ "),s("code",[t._v("A")]),t._v(", å’Œä¸‹é¢çš„")]),t._v(" "),s("div",{pre:!0},[s("p",[t._v("${{ secrets.THIS_IS_A_EXAMPLE }}")])]),s("p",[t._v("ä¹Ÿå¾—ä¸€è‡´!")]),t._v(" "),s("p",[s("s",[t._v("è‹±è¯­å¥½çš„æœ‹å‹åˆ«å˜²è®½åœ¨ä¸‹ ğŸ˜µ")])]),t._v(" "),s("p",[t._v("å†åœ¨ "),s("code",[t._v("actions")]),t._v(" é‡Œç”¨")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("${{ secrets.YOURKEY }}\n")])])]),s("p",[t._v("å»å–ï¼Œé€šè¿‡ "),s("code",[t._v("env")]),t._v(" å­˜å…¥æœåŠ¡å™¨çš„ç¯å¢ƒå˜é‡ã€‚å°±å¯ä»¥ç”¨å•¦ ğŸ‘»ã€‚")]),t._v(" "),s("p",[t._v("åšä¸ªå®éªŒã€‚"),s("code",[t._v("main.yaml")]),t._v(" é‡ŒåŠ ä¸Šè¿™æ ·ä¸€æ®µã€‚")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Pass Variables\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("EXAMPLE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.THIS_IS_A_EXAMPLE "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("NOTEXIST")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.NOT_EXIST "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" echo 'try to show secret ğŸ˜‰' "),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" echo $EXAMPLE "),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" echo $NOT_EXIST\n")])])]),s("p",[t._v("è¾“å‡ºä¸‹å›¾è¿™æ ·çš„ç»“æœã€‚github æŠŠç»“æœåŠ å¯†äº†ï¼Œä¸è¿‡å¯ä»¥å‘ç°ï¼Œæœ‰è®¾ç½®çš„ "),s("code",[t._v("THIS_IS_A_EXAMPLE")]),t._v(" å’Œæ²¡æœ‰è®¾ç½®çš„ "),s("code",[t._v("NOT_EXIST")]),t._v("ï¼Œ"),s("code",[t._v("echo")]),t._v(" å‡ºæ¥æ˜¯ä¸ä¸€æ ·çš„ã€‚ç”±æ­¤å¯è§ï¼Œå·²ç»è®¾ç½®æˆåŠŸäº†ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/470919/e72b8478-89cb-6f45-f406-e6938f81e1c7.png",alt:"Screenshot 2020-03-23 13.11.39.png"}})]),t._v(" "),s("h3",{attrs:{id:"å®æ–½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®æ–½"}},[t._v("#")]),t._v(" å®æ–½")]),t._v(" "),s("p",[t._v("ç›´æ¥è¯•è¯•å§ã€‚")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("VSSUEID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.VSSUEID "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("VSSUESECRET")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.VSSUESECRET "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" npm install "),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" npm run build\n")])])]),s("p",[t._v("åœ¨ "),s("code",[t._v("npm run build")]),t._v(" ä¹‹å‰åŠ ä¸Šç¯å¢ƒå‚æ•°é‚£ä¸€æ®µã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("vssueConfig")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("platform")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'github'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("owner")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xyyolab'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("repo")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'blog'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("clientId")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VSSUEID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("clientSecret")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VSSUESECRET")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å†åœ¨ "),s("code",[t._v("config")]),t._v(" å†…ç”¨ node çš„è¯­æ³•å»ç¯å¢ƒå‚æ•°å–å°± OK å•¦ï¼")]),t._v(" "),s("p",[t._v("ç»“æœæ˜¯è¯„è®ºåŠŸèƒ½å¯ä»¥ä½¿ç”¨äº†å‘€ ğŸ˜ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/470919/0a508150-59e8-948c-4601-b57012db2ed6.png",alt:"Screenshot 2020-03-23 13.36.35.png"}})]),t._v(" "),s("ul",[s("li",[t._v("å®Œæ•´çš„ "),s("code",[t._v("main.yaml")]),t._v(" è¯·å‚è€ƒæˆ‘çš„ "),s("a",{attrs:{href:"https://github.com/xyyolab/blog/blob/master/.github/workflows/main.yml",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("çœ‹èµ·æ¥ä¸€ä¸ªå°æ­¥éª¤ä½†è§£å†³äº†å¤§é—®é¢˜å‘¢ ğŸ’ƒã€‚")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",[t._v("æœ¬æ–‡ä½œè€… "),s("a",{attrs:{href:"https://github.com/xyyolab",target:"_blank",rel:"noopener noreferrer"}},[t._v("xyh ğŸ¸"),s("OutboundLink")],1),t._v("ï¼Œåšå®¢ "),s("a",{attrs:{href:"https://blog.xyyolab.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("xyh ğŸ¸"),s("OutboundLink")],1),t._v("ã€‚")])])])}),[],!1,null,null,null);s.default=n.exports}}]);